{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
{% include "user/header.html" %}

<script>
function EnableDisableText(btn) {
    if (btn.value == "update") {
        user_name.removeAttribute("disabled");
        user_studentID.removeAttribute("disabled");
        user_email.removeAttribute("disabled");
    } 
    else {
        user_name.setAttribute("disabled", "disabled");
        user_studentID.setAttribute("disabled", "disabled");
        user_email.setAttribute("disabled", "disabled");
    }
}
</script>

<div class="container" id="main_body" style="padding-top: 30px;">
    <form class="search-form" style="padding-bottom: 10px;height: 70px;">
        <div class="input-group">
            <div class="input-group-prepend"><span class="input-group-text"><svg width="100%" viewBox="0 0 24 24" style="transform: scale(1,1);" height="24px" id="magnifying-glass">
                        <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path>
                    </svg></span></div><input type="text" class="form-control" id="keywords" placeholder="Search the library" name="keywords" value="{{keywords}}">
            <div class="input-group-append">
                <div class="dropdown btn-group" role="group"><button class="btn btn-secondary dropdown-toggle" aria-expanded="false" data-toggle="dropdown" type="button">Search by</button>
                    <div class="dropdown-menu"><a class="dropdown-item" href="#">Title</a><a class="dropdown-item" href="#">Author</a></div>
                </div><button class="btn btn-primary" type="button">Search </button>
            </div>
        </div>
    </form>

    <div class="container">
        <div class="row">
            <div class="col-md-6" style="width: 300px;">
                <div class="container"><img id="profile_image" class="rounded-circle" src="media/user_avatar.png" style="width: 200px;height: 200px;" />
                    <h1 class="text-center" id="profile_name" style="width: 200px;">Test1</h1>
                </div><textarea class="border rounded d-xl-flex" id="about_me" placeholder="you can write about yourself" style="width: 270px;text-align: center;margin-top: 30px;"></textarea>
            </div>
            <div class="col">
                <div>
                    <div class="card text-center my-4">
                        <div class="card-header">
                            <ul class="nav nav-tabs card-header-tabs" id="myTab" role="tablist">
                                <li class="nav-item"><a class="nav-link active" id="details_tab" href="#details" data-toggle="tab" role="tab" aria-controls="details" aria-selected="true">Details</a></li>
                            </ul>
                        </div>
                        <div class="card-body tab-content">
                            <div id="details" class="tab-pane fade show active" role="tabpanel" aria-labelledby="details_tab">
                                <form method="post">
                                    <input class="form-control-plaintext" type="text" id="label_name" value="Name" readonly />
                                    <input class="form-control" type="text" id="user_name" placeholder="Test1" />
                                    <input class="form-control-plaintext" type="text" id="label_studentID" value="Student ID" readonly />
                                    <input class="form-control" type="text" id="user_studentID" placeholder="12345" />
                                    <input class="form-control-plaintext" type="text" id="label_email" value="Email" readonly />
                                    <input class="form-control" type="text" id="user_email" placeholder="Test1@mymail.sim.sg" />
                                    
                                    <button class="btn btn-primary text-end" id="update_user_details" type="button" style="margin-top: 10px;width: 80px;" value="update" onclick="EnableDisableText(this)">Update</button>
                                    <button class="btn btn-primary text-center bg-primary" id="save_user_details" type="button" style="margin-top: 10px;margin-left: 20px;width: 80px;" value="save" onclick="EnableDisableText(this)">Save</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="table-responsive border rounded d-xl-flex" style="width: 290px;">
                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th>
                                    <h3>Loan History</h3>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td id="borrowed_book_title">Title:</td>
                                <td id="borrowed_book_due">Due Date:</td>
                            </tr>
                            <tr>
                                <td>Computer ScienceÂ </td>
                                <td>27/06/2021</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col"></div>
        </div>
    </div>
</div>

{% endblock %}